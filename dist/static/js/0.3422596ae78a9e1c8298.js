webpackJsonp([0],{"3C/1":function(e,t,i){i("M6a0"),i("zQR9"),i("+tPU"),i("qCoq"),i("UvrK"),i("Xjd4"),i("bqnK"),e.exports=i("FeBl").Map},"4WTo":function(e,t,i){var n=i("NWt+");e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},"5zde":function(e,t,i){i("zQR9"),i("qyJz"),e.exports=i("FeBl").Array.from},"6KT8":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={name:"EarthViewer",viewerProperty:{},props:{viewStyle:{},viewerProperty:{},dropBackground:{default:!1}},components:{},data:function(){return{viewer:null}},computed:{},mounted:function(){for(var e in this.viewerDefaultProperty={animation:!1,timeline:!1,geocoder:!1,homeButton:!1,navigationHelpButton:!1,baseLayerPicker:!1,fullscreenElement:"cesiumContainer",fullscreenButton:!1,shouldAnimate:!0,infoBox:!1,selectionIndicator:!1,sceneModePicker:!1,shadows:!1,skyAtmosphere:!1,imageryProvider:new Cesium.UrlTemplateImageryProvider({url:"http://www.google.cn/maps/vt?lyrs=s@800&x={x}&y={y}&z={z}",tilingScheme:new Cesium.WebMercatorTilingScheme,minimumLevel:1,maximumLevel:20})},this.viewerProperty)this.viewerDefaultProperty[e]=this.viewerProperty[e];this.viewer=new Cesium.Viewer("cesiumContainer",this.viewerDefaultProperty),this.$store.state.earth=this.viewer,Cesium.defined(this.viewer)&&Bus.$emit("viewerMounted");var t=document.getElementsByClassName("cesium-widget-credits");t[0].parentElement.removeChild(t[0]),this.viewer.cesiumWidget.screenSpaceEventHandler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK)},methods:{}},o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fullSize",staticStyle:{width:"100%",height:"100%"}},[t("div",{staticClass:"full-container",style:this.viewStyle,attrs:{id:"cesiumContainer"}}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"loadingOverlay"}},[t("h1",[this._v("Loading...")])])}]};var r=i("VU/8")(n,o,!1,function(e){i("pfge"),i("wxVj")},"data-v-533afa04",null).exports,s=i("mvHQ"),a=i.n(s),l=i("Gu7T"),u=i.n(l),c=i("L9d+"),d=i("fZjL"),h=i.n(d),p={data:function(){return{isShow:!1,triggerObj:""}},props:{contextMenuItems:{default:{menu1:console.log}}},computed:{height:function(){var e=20+30*h()(this.contextMenuItems).length;return e<100?100:e}},mounted:function(){Bus.$on("contextMenuHide",function(){var e=document.getElementById("contextmenubox");e&&document.body.removeChild(e)}),Bus.$on("setContextMenuPosition",this.setPosition),window.createContextMenu=this.createContextMenu},methods:{createContextMenu:function(e){var t=this,i=document.getElementById("contextmenubox");i&&document.body.removeChild(i);var n=document.createElement("div");n.oncontextmenu=function(){return!1},n.id="contextmenubox",n.style.height=t.height+"px";var o=function(e){var i=document.createElement("div");i.innerText=e,i.onclick=function(){t.contextMenuItems[e](),Bus.$emit("contextMenuHide")},n.appendChild(i)};for(var r in t.contextMenuItems)o(r);t.$store.state.doubleViewer&&e===t.$store.state.earth&&(n.style.marginLeft="50%"),document.body.appendChild(n)},setPosition:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=void 0,i=void 0;t=e.x>190?e.x-170:e.x+10,i=e.y>this.height?e.y-this.height+40:e.y,$("#contextmenubox").css("left",t),$("#contextmenubox").css("top",i)}}},v={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]};var f=i("VU/8")(p,v,!1,function(e){i("MiEa")},null,null).exports,m=i("t4zo"),y={data:function(){return{msg:"",tipPos:{x:0,y:0},scenePos:"",isShow:!1,billboards:void 0,labels:void 0,selectedObj:"",tipShow:!1,curIndex:null,isDrawing:!1,curLat:0,curLon:0,curText:"",contextMenu:{},activeMark:null,markName:"",markRemark:"",images:[],defaultImage:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAfCAYAAAAIjIbwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAACXBIWXMAAAK8AAACvAAsAdHPAAAAB3RJTUUH4wEJAy0MN7YNKwAAA05JREFUSMeV1suLHFUUx/FPVVc/ZpKJozhKYkSQxOATBDdKkLgQRaKooP+DgijoTnDjNsYXIhoiCMa3ohJQEEnEiJsg+EhcRHzHiQmYOM6ju2aqr4uqmtzuTJvJ2TRV95xv/c7j3tuJyqa3bxVZhptwF27BRkxgFkexHx/hS+R10Pq9B0CyAvBKPIJ7caHR9jc+xDP4NgYnQ8DbsbMCr9Z+xKOV8uU0a7sVu7FhOKoIQb8fpGmikSTDy5uwC33sjaGb8FQMDJjLF83kubwoFP2gkSRajYaJdtPaVkuEvwg78BMOp0jxIK6NlZ2YWzA9O2eml+stFZb6fb2iMJPnjs3OOz43r+iHWPEWPIQsw3W4b6ADC10nu926kzM4iN+wMeGGfgiTp7o9CabWjMeK78GrGW6L055bXHSq26sfj+AxfIoFdJQjtgNX/dPLjTeb1raatf/FuCPDtqoEYDZfVIQgYR6Px11FFx9XvdhThDAxm+cxFLalysEG/RDkRVE//lApLD2/OhQH7lPNZl709cNAbTekmFzueKDoh7pGx5Vql4EReAF/JVgKZ0DXpcpGgDQhS1OVy6U4D/bfeLX4F+twWVD6p4OzO59WzSg7nSTaWSMekfvrhwhIuYWvgXajMQw9klb1WS7kRKupmabQxBN4GJdgHOvxAJ5EO0sT69qtGBiwL5nevnWzcntdUa+c7PacmJuvy7CEnzFdjczl1QdNjY+5YKwTQ3/BnXX6e+KVyXbL1Jrxur5ZYDNuDmwJNLM0NTU+ZrLTNmRv4vt67+/G3bi+ru35nbaxLDOb53pFuU2zNNVuNKxtNXWybBh4GC9x+kA5imeVp83yJHeyhk42JiCEIEkSZ5xRpRV4vkr/9E7Ce6Jhjy1BOhoIn1epg7S+ApRXxU6ccm42ELd+74EBpZR3z1vnCH1/OMO0pg/V5tdVAv9U9iKPOekKjofw8iqhr+Dr4ZfL0Eht7XzwLMDv4o/H8QNKo4Vjyqs3HwFcwnP4fQVBK6Zf2wf4ZMTaPrw9KvAMaPTVOTyNk0Mu/ypHaGYllWdTCl/g9aF37+Cz/wtaETo0Yi8oTyn4o6rl4iiVq1FKeVe9qPwHsgvfnC1gJHRIxRt4F6+NWB+w/wD3vCGsfC8xrQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wMS0wOVQwMzo0NToxMiswODowMKswftkAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDEtMDlUMDM6NDU6MTIrMDg6MDDabcZlAAAAQ3RFWHRzb2Z0d2FyZQAvdXNyL2xvY2FsL2ltYWdlbWFnaWNrL3NoYXJlL2RvYy9JbWFnZU1hZ2ljay03Ly9pbmRleC5odG1svbV5CgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpIZWlnaHQAMjMzz/MXEAAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAAxNTifzIcaAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE1NDY5NzY3MTKeBuyKAAAAEnRFWHRUaHVtYjo6U2l6ZQAxMDM4M0L7qH+sAAAAYnRFWHRUaHVtYjo6VVJJAGZpbGU6Ly8vaG9tZS93d3dyb290L25ld3NpdGUvd3d3LmVhc3lpY29uLm5ldC9jZG4taW1nLmVhc3lpY29uLmNuL2ZpbGVzLzExOC8xMTg1NjU4LnBuZzaDG7oAAAAASUVORK5CYII=",selectPanel:!1,viewer:""}},computed:{handler:function(){if(Cesium.defined(this.viewer))return new Cesium.ScreenSpaceEventHandler(this.viewer.canvas)},position:function(){return{x:this.scenePos.x>170?this.scenePos.x-170:this.scenePos.x+10,y:this.scenePos.y>210?this.scenePos.y-180-60:this.scenePos.y+50}}},components:{contextMenuViewer:f},props:{extendImage:{}},directives:{vfocus:function(e){e.focus()}},mounted:function(){var e=this;e.contextMenu={"编 辑":e.edit,"删 除":e.drop},e.images=[e.defaultImage].concat(u()(e.extendImage)),e.viewer=e.$store.state.earth,e.billboards=e.viewer.scene.primitives.add(new Cesium.BillboardCollection),e.labels=e.viewer.scene.primitives.add(new Cesium.LabelCollection),Bus.$on("drawingStop",e.stopDrawing),Bus.$on("markerViewerInit",e.init),Bus.$on("markerViewerDestroy",e.destroy),Bus.$on("removeAllMarker",e.removeAll),Bus.$on("startPickMarker",function(){e.isDrawing=!0}),Bus.$on("stopPickMarker",function(){e.isDrawing=!1}),Bus.$on("exportMarks",e.exportMarks),Bus.$on("importMarks",function(){document.getElementById("uploadhandler").click()})},methods:{tipLoad:function(e){var t=this.viewer,i=Object(c.a)(t),n=t.scene.drillPick(e.position);if(Cesium.defined(n))for(var o in n)if(n[o].primitive instanceof Cesium.Billboard)for(var r=0;r<this.billboards.length;r++)if(this.billboards.get(r)==n[o].primitive){this.activeMark=this.billboards.get(r);var s=i.worldLatLon(n[o].primitive.position);this.curLat=s.lat.toFixed(3),this.curLon=s.lon.toFixed(3),this.curText=this.labels.get(r).text;var a=i.worldScreen(n[o].primitive.position),l=document.getElementById("popContainer");return this.tipPos.x-a.x+this.tipPos.y-a.y==0?(this.tipPos=i.worldScreen(n[o].primitive.position),l?document.body.removeChild(l):this.createPopPanel()):(this.tipPos=i.worldScreen(n[o].primitive.position),l&&document.body.removeChild(l),this.createPopPanel()),{name:this.curText,lat:this.curLat,lon:this.curLon}}return!1},exportMarks:function(){var e=[];if(0==this.billboards.length)return this.$message.error("没有添加标记"),void Bus.$emit("toggleClick");for(var t=0;t<this.billboards.length;t++){var i={};i.position=this.billboards.get(t).position,i.image=this.billboards.get(t).image,i.id=this.billboards.get(t).id,i.text=this.labels.get(t).text,e.push(a()(i))}var n=new Blob(e,{type:""});Object(m.saveAs)(n,"marks.json"),Bus.$emit("toggleClick")},importMarks:function(){var e=this,t=event||window.event,i=(Object(c.a)(e.viewer),t.target.files),n=new FileReader;n.readAsText(i[0]),n.onload=function(){var t=void 0;this.result.split("}{").map(function(i){"{"!=i[0]&&(i="{"+i),"}"!=i[i.length-1]&&(i+="}"),t=JSON.parse(i),e.billboards.add({id:t.id,position:new Cesium.Cartesian3(t.position.x,t.position.y,t.position.z),image:t.image}),e.labels.add({position:new Cesium.Cartesian3(t.position.x,t.position.y,t.position.z),id:t.id,text:t.text,font:"24px sans-serif",fillColor:Cesium.Color.BLACK,outlineWidth:5,outlineColor:Cesium.Color.WHITE,pixelOffset:new Cesium.Cartesian2(20,20),style:Cesium.LabelStyle.FILL_AND_OUTLINE})}),Bus.$emit("toggleClick"),document.getElementById("uploadhandler").value=""}},changeImage:function(){this.selectPanel=!0},changeHandler:function(e){this.defaultImage=e;var t=Cesium.defined(this.curIndex)?this.curIndex:this.billboards.length-1;this.billboards.get(t).image=this.defaultImage,this.selectPanel=!1},cancelMark:function(){this.isShow=!1;var e=Cesium.defined(this.curIndex)?this.curIndex:this.billboards.length-1;this.billboards.remove(this.billboards.get(e)),this.labels.remove(this.labels.get(e))},init:function(e,t){var i=this,n=this;n.viewer=e;var o=Object(c.a)(e);n.viewer.scene.postRender.addEventListener(function(e){if(n.activeMark){var t=o.worldScreen(n.activeMark.position);document.getElementById("popContainer")&&(document.getElementById("popContainer").style.left=t.x-100-7+"px",document.getElementById("popContainer").style.top=t.y-100+"px")}}),n.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),n.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),n.handler.setInputAction(function(o){Bus.$emit("contextMenuHide");var r=window.event,s=r.target||r.srcElement,a=n.tipLoad(o);if(a)return a;if(n.isDrawing&&s&&"CANVAS"==s.tagName&&"cesium-widget"==s.parentElement.className){n.scenePos=o.position,n.add(),Bus.$emit("toggleClick");Object(c.a)(e).pickLatLon(i.scenePos);n.msg="","single"==t&&Bus.$emit("stopPickMarker")}},Cesium.ScreenSpaceEventType.LEFT_CLICK),n.handler.setInputAction(function(t){document.getElementById("tooltip")&&document.body.removeChild(document.getElementById("tooltip")),Bus.$emit("contextMenuHide");var i=e.scene.drillPick(t.position);if(Cesium.defined(i)){for(var o in i)if(i[o].primitive instanceof Cesium.Billboard&&Cesium.defined(i[o].id.Billboard)){n.selectedObj=i[o],createContextMenu(),n.$refs.contextMenu.setPosition(t.position);break}}else Bus.$emit("contextMenuHide")},Cesium.ScreenSpaceEventType.RIGHT_CLICK)},createPopPanel:function(){var e=document.createElement("div");e.id="popContainer",e.style.left=parseFloat(this.tipPos.x)-100-7+"px",e.style.top=parseFloat(this.tipPos.y)-40+"px";var t=document.createElement("span");t.innerText="名称:"+this.curText;var i=document.createElement("span");i.innerText="纬度:"+this.curLat;var n=document.createElement("span");n.innerText="经度:"+this.curLon;var o=document.createElement("div");o.className="arrow",e.appendChild(t),e.appendChild(document.createElement("br")),e.appendChild(i),e.appendChild(document.createElement("br")),e.appendChild(n),e.appendChild(document.createElement("br")),e.appendChild(o),this.popDiv=e,document.body.appendChild(this.popDiv)},add:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];document.getElementById("cursortip")&&document.body.removeChild(document.getElementById("cursortip"));var t=Object(c.a)(this.viewer);this.tipShow=!1,this.id="marker"+Math.round(1e4*Math.random()),this.billboards.add({id:this.id,position:t.screenWorld(this.scenePos),image:this.defaultImage}),this.labels.add({position:t.screenWorld(this.scenePos),id:this.id,text:"",font:"24px sans-serif",fillColor:Cesium.Color.BLACK,outlineWidth:5,outlineColor:Cesium.Color.WHITE,pixelOffset:new Cesium.Cartesian2(20,20),style:Cesium.LabelStyle.FILL_AND_OUTLINE}),this.markName="",e&&(this.isShow=!0)},update:function(){var e=this.markName;void 0==this.curIndex&&(this.curIndex=this.labels.length-1),this.labels.get(this.curIndex).text=e,this.isShow=!1,this.markName="",this.curIndex=void 0},drop:function(){var e=document.getElementById("popContainer");if(e&&document.body.removeChild(e),Cesium.defined(this.selectedObj)){for(var t=this.selectedObj,i=0;i<this.billboards.length;i++)if(this.billboards.get(i)==t.primitive){this.labels.remove(this.labels.get(i));break}Bus.$emit("olRemoveMarker",t.primitive.id),this.billboards.remove(t.primitive),this.menuShow=!1,this.selectedObj=void 0}},edit:function(){if(Cesium.defined(this.selectedObj)){var e=this.selectedObj;this.isShow=!0;for(var t=0;t<this.billboards.length;t++)if(this.billboards.get(t)===e.primitive){this.curIndex=t;break}this.markName=this.labels.get(this.curIndex).text,this.menuShow=!1,this.selectedObj=void 0}},removeAll:function(){this.billboards.removeAll(),this.labels.removeAll(),this.isShow=!1;var e=document.getElementById("popContainer");e&&document.body.removeChild(e)},getPosition:function(e){return{x:e.x>120?e.x-110:e.x+10,y:e.y>70?e.y-60:e.y+10}},destroy:function(){this.handler.removeInputAction(Cesium.ScreenSpaceEventType.LEFT_CLICK),this.handler.removeInputAction(Cesium.ScreenSpaceEventType.RIGHT_CLICK),Cesium.defined(this.labels)&&(this.labels.removeAll(),this.labels.destroy()),Cesium.defined(this.billboards)&&(this.billboards.removeAll(),this.billboards.destroy()),this.viewer=void 0}},watch:{isShow:function(e,t){var i=this;e&&i.$nextTick(function(e){i.$refs.nameinput.$el.children[0].focus()})}}},w={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"markerContainer"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],style:{left:e.position.x+"px",top:e.position.y+"px"},attrs:{id:"createPanel"}},[i("el-container",{directives:[{name:"show",rawName:"v-show",value:!e.selectPanel,expression:"!selectPanel"}]},[i("el-header",[e._v("添加标记"),i("span",{staticClass:"closebtn",attrs:{id:"closespan"},on:{click:function(t){e.isShow=!1}}})]),e._v(" "),i("el-container",[i("el-container",[i("el-main",[e._v("名称：\n            "),i("el-input",{ref:"nameinput",attrs:{autofocus:"true",id:"input_markname"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.update(t)}},model:{value:e.markName,callback:function(t){e.markName=t},expression:"markName"}}),e._v(" "),i("br"),e._v("\n            备注：\n            "),i("el-input",{attrs:{type:"textarea"},model:{value:e.markRemark,callback:function(t){e.markRemark=t},expression:"markRemark"}})],1),e._v(" "),i("el-aside",[e._v("\n             "),i("img",{attrs:{src:e.defaultImage}}),i("br"),e._v(" "),e.images.length>0?i("a",{staticStyle:{"margin-left":"10px"},attrs:{href:"#",id:"imageC"},on:{click:e.changeImage}},[e._v("更换")]):e._e()])],1),e._v(" "),i("el-footer",[i("el-button",{attrs:{type:"danger",id:"cancelbtn",plain:"",size:"mini"},on:{click:e.cancelMark}},[e._v("删除")]),e._v(" "),i("el-button",{attrs:{type:"primary",plain:"",size:"mini",id:"submitbtn"},on:{click:e.update}},[e._v("确定")])],1)],1)],1),e._v(" "),i("el-container",{directives:[{name:"show",rawName:"v-show",value:e.selectPanel,expression:"selectPanel"}]},e._l(e.images,function(t,n){return i("img",{key:n,attrs:{src:t},on:{click:function(i){return e.changeHandler(t)}}})}),0)],1),e._v(" "),i("contextMenuViewer",{ref:"contextMenu",attrs:{contextMenuItems:e.contextMenu}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file",id:"uploadhandler",accept:".json"},on:{change:e.importMarks}})],1)},staticRenderFns:[]};var g=i("VU/8")(y,w,!1,function(e){i("fbSC")},null,null).exports,C=i("Zx67"),_=i.n(C),k=i("zwoO"),x=i.n(k),b=i("yEsh"),A=i.n(b),E=i("Pf15"),M=i.n(E),S=i("BO1k"),I=i.n(S),O=i("ifoU"),L=i.n(O),P=i("Zrlr"),B=i.n(P),T=i("wxAW"),N=i.n(T),F=i("7+uW"),R={data:function(){return{isShow:!0,title:"要素编辑",color:"#FF0000",width:3,node:!0,graphic:{},outline:!1,outlineWidth:1,outlineColor:"#FF0000",showMenu:!1}},props:{},components:{},computed:{Width:{get:function(){return parseInt(this.width)},set:function(e){this.width=e}},outWidth:{get:function(){return parseFloat(this.outlineWidth)},set:function(e){this.outlineWidth=e}}},mounted:function(){},methods:{command:function(e){this.graphic[e](),this.showMenu=!1},displayTrigger:function(e){this.isShow=e},closeHandler:function(){this.isShow=!1,this.graphic.stopEdit()}},watch:{color:function(e,t){this.graphic.setColor(e)},width:function(e,t){""!==e?this.graphic.setWidth(e):this.width=0},node:function(e,t){this.graphic.setNodeAction=e},outline:function(e,t){this.graphic.setOutline(e)},outlineWidth:function(e,t){""!==e?this.graphic.setOutlineWidth(e):this.outlineWidth=0},outlineColor:function(e){this.graphic.setOutlineColor(e)}}},D={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"graphic-edit-panel",attrs:{id:e.graphic.name}},["polyline"===e.graphic.geomType?i("el-container",[i("el-header",[i("span",{staticClass:"el-icon-user-solid",staticStyle:{"margin-left":"-20px"},on:{click:function(t){e.showMenu=!e.showMenu}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"show-drop-down"},e._l([{value:"导出",key:"export"},{value:"删除",key:"remove"}],function(t,n){return i("div",{key:n,staticClass:"drop-down-item",on:{click:function(i){return e.command(t.key)}}},[e._v("\n          "+e._s(t.value)+"\n        ")])}),0),e._v(" "),i("div",[e._v(e._s(e.title))]),e._v(" "),i("span",{staticClass:"closebtn",on:{click:e.closeHandler}})]),e._v(" "),i("el-main",{staticClass:"geom-line"},[i("div",[i("span",{staticClass:"p-class"},[e._v("颜色：")]),i("el-color-picker",{attrs:{size:"mini"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),i("span",{staticClass:"p-class"},[e._v("顶点：")]),i("el-switch",{attrs:{size:"mini","active-color":"#13ce66","inactive-color":"#ff0000"},model:{value:e.node,callback:function(t){e.node=t},expression:"node"}})],1),e._v(" "),i("div",[i("span",{staticClass:"p-class"},[e._v("线宽：")]),i("el-slider",{attrs:{step:1,max:10,min:0},model:{value:e.Width,callback:function(t){e.Width=t},expression:"Width"}}),i("el-input",{attrs:{size:"mini"},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}})],1)])],1):e._e(),e._v(" "),"polygon"===e.graphic.geomType?i("el-container",[i("el-header",[i("span",{staticClass:"el-icon-user-solid",staticStyle:{"margin-left":"-20px"},on:{click:function(t){e.showMenu=!e.showMenu}}}),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.showMenu,expression:"showMenu"}],staticClass:"show-drop-down"},e._l([{value:"导出",key:"export"},{value:"删除",key:"remove"}],function(t,n){return i("div",{key:n,staticClass:"drop-down-item",on:{click:function(i){return e.command(t.key)}}},[e._v("\n          "+e._s(t.value)+"\n        ")])}),0),e._v(" "),i("div",[e._v(e._s(e.title))]),e._v(" "),i("span",{staticClass:"closebtn",on:{click:e.closeHandler}})]),e._v(" "),i("el-main",{class:{"geom-polygon":e.outline,"geom-line":!e.outline}},[i("div",[i("span",{staticClass:"p-class"},[e._v("颜色：")]),i("el-color-picker",{attrs:{size:"mini"},model:{value:e.color,callback:function(t){e.color=t},expression:"color"}}),e._v(" "),i("span",{staticClass:"p-class"},[e._v("顶点：")]),i("el-switch",{attrs:{size:"mini","active-color":"#13ce66","inactive-color":"#ff0000"},model:{value:e.node,callback:function(t){e.node=t},expression:"node"}})],1),e._v(" "),i("div",{staticStyle:{"margin-bottom":"5px"}},[i("span",{staticClass:"p-class"},[e._v("边框：")]),e._v(" "),i("el-switch",{attrs:{size:"mini","active-color":"#13ce66","inactive-color":"#ff0000"},model:{value:e.outline,callback:function(t){e.outline=t},expression:"outline"}})],1),e._v(" "),e.outline?i("div",[i("span",{staticClass:"p-class"},[e._v("颜色：")]),i("el-color-picker",{attrs:{size:"mini"},model:{value:e.outlineColor,callback:function(t){e.outlineColor=t},expression:"outlineColor"}})],1):e._e(),e._v(" "),e.outline?i("div",[i("span",{staticClass:"p-class"},[e._v("线宽：")]),i("el-slider",{attrs:{step:1,max:10,min:0},model:{value:e.outWidth,callback:function(t){e.outWidth=t},expression:"outWidth"}}),i("el-input",{attrs:{size:"mini"},model:{value:e.outlineWidth,callback:function(t){e.outlineWidth=t},expression:"outlineWidth"}})],1):e._e()])],1):e._e()],1)},staticRenderFns:[]};var W=i("VU/8")(R,D,!1,function(e){i("zNUb")},"data-v-56b4221c",null).exports,j=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{editPanel:!1},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;B()(this,e),this.name=n||Math.round(1e3*Math.random()),this.viewer=t,this.options=i,this.vm=new L.a,this.graphic=null,this.positions=[],this.nodes=null,this.editMode=!1,this.editPanel=null,this.handler=new Cesium.ScreenSpaceEventHandler(t.canvas),this.selectedHandler=new Cesium.ScreenSpaceEventHandler(t.canvas),this.setNodeAction=void 0,this.init()}return N()(e,[{key:"initNodes",value:function(){this.nodes=[]}},{key:"init",value:function(){var e=this,t=this;window.tip=U(this.viewer,"单击继续，双击或右击结束"),this.handler.setInputAction(function(e){t.onClick(e)},z.LEFT_CLICK()),this.handler.setInputAction(function(t){e.onMove(t)},z.MOUSE_MOVE()),this.handler.setInputAction(function(t){e.destroy(),e.onSelected(),e.startEdit()},z.RIGHT_CLICK()),this.handler.setInputAction(function(t){e.destroy(),e.onSelected(),e.startEdit()},z.LEFT_DOUBLE_CLICK())}},{key:"onClick",value:function(e){0===this.positions.length&&(this.create(this.options,this.positions),this.pushNode(e.position)),this.pushNode(e.position)}},{key:"onMove",value:function(e){var t=G.screenWorld(this.viewer,e.endPosition);if(Cesium.defined(t)&&this.positions.length>0){if(this.positions.pop(),this.nodes){var i=this.nodes[this.nodes.length-1];this.nodes.pop(),this.viewer.entities.remove(i)}this.pushNode(e.endPosition)}}},{key:"initEditWindow",value:function(){if(!1!==this.options.editPanel){var e=document.createElement("div");e.id="editContainer",document.body.appendChild(e);var t=F.default.extend(W);this.editPanel=(new t).$mount("#editContainer"),this.editPanel.graphic=this,this.editPanel.node=!!this.nodes}}},{key:"getSelectedStyle",value:function(){var e=void 0;switch(this.geomType.toLowerCase()){case"polyline":return(e=V.selectedStyle()).width=this.options.width,e;case"polygon":return e=H.selectedStyle()}}},{key:"onSelected",value:function(){var e=this,t=this;this.selectedHandler.setInputAction(function(i){var n=e.viewer.scene.pick(i.position);Cesium.defined(n)&&n.id&&(n.id!==t.graphic||t.editMode||t.startEdit())},z.LEFT_DOUBLE_CLICK()),t.selectedHandler.setInputAction(function(i){if(t.graphic&&e.editMode){var n=e.viewer.scene.pick(i.position),o=t.nodes?t.nodes:t.tmpNodes;Cesium.defined(n)&&n.id&&(n.id===t.graphic||o.includes(n.id))&&Cesium.defined(n)?Cesium.defined(n)&&n.id&&o.includes(n.id)?(t.selectedNode&&(t.selectedNode.point.color=G.editStyle().color),n.id.point.color=G.selectedStyle().color,t.selectedNode=n.id):Cesium.defined(n)&&n.id&&n.id===t.graphic&&(t.selectedNode&&(t.selectedNode.point.color=G.editStyle().color),t.selectedNode=null):(t.stopEdit(),t.selectedNode=null)}},z.LEFT_CLICK()),t.selectedHandler.setInputAction(function(i){var n=e.viewer.scene.pick(i.position);if(t.editMode){var o=t.nodes?t.nodes:t.tmpNodes;if(Cesium.defined(n)&&n.id&&o.includes(n.id)){var r=!0,s=!1,a=void 0;try{for(var l,u=I()(t.positions);!(r=(l=u.next()).done);r=!0){var c=l.value;n.id.position.getValue()===c&&(t.selectedPosition=c,t.viewer.container.style.cursor="url(static/images/cursor.png),auto",t.viewer.scene.screenSpaceCameraController.enableRotate=!1)}}catch(e){s=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(s)throw a}}}}},z.LEFT_DOWN()),t.selectedHandler.setInputAction(function(e){if(t.selectedPosition){var i=G.screenWorld(t.viewer,e.endPosition);t.selectedPosition.x=i.x,t.selectedPosition.y=i.y,t.selectedPosition.z=i.z}else if(!t.editMode){var n=t.viewer.scene.pick(e.endPosition);Cesium.defined(n)&&n.id&&n.id===t.graphic?window.tip=U(t.viewer,"双击要素编辑"):window.tip&&(document.body.removeChild(window.tip),window.tip=null)}},z.MOUSE_MOVE()),t.selectedHandler.setInputAction(function(e){var i=G.screenWorld(t.viewer,e.position);t.selectedPosition=i,t.selectedPosition=null,t.viewer.scene.screenSpaceCameraController.enableRotate=!0,t.viewer.container.style.cursor="default"},z.LEFT_UP())}},{key:"startEdit",value:function(){if(this.graphic){var e=this;if(e.editMode=!0,window.tip=U(this.viewer,"拖动节点编辑图形，按Delete键删除"),Array.isArray(e.nodes)){var t=G.editStyle();e.setNodeStyle(t)}else e.tmpNodes=[],this.positions.map(function(t){var i=new G(e.viewer,null,t,G.editStyle());e.tmpNodes.push(i.graphic)});this.editPanel||this.initEditWindow(),window.graphic=this,$(document).bind("keydown",e.keyDown)}}},{key:"stopEdit",value:function(){if(this.editMode=!1,this.tmpNodes){var e=!0,t=!1,i=void 0;try{for(var n,o=I()(this.tmpNodes);!(e=(n=o.next()).done);e=!0){var r=n.value;this.viewer.entities.remove(r)}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}this.tmpNodes=null}else{var s=G.defaultStyle();this.setNodeStyle(s)}Cesium.defined(this.setNodeAction)&&this.setNode(this.setNodeAction),window.tip&&(document.body.removeChild(window.tip),window.tip=null),this.editPanel&&this._destroyEditPanel(),$(document).unbind("keydown",this.keyDown)}},{key:"keyDown",value:function(e){var t=window.graphic,i=e||window.event;if(46===(i.keyCode||i.which)){if(t.selectedNode){var n=!0,o=!1,r=void 0;try{for(var s,a=I()(t.positions);!(n=(s=a.next()).done);n=!0){var l=s.value;t.selectedNode.position.getValue()===l&&(t.positions.splice(t.positions.indexOf(l),1),t.viewer.entities.remove(t.selectedNode))}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}else t._removeGraphic(),t._removeNodes(),t.deepDestroy();t.selectedNode=null}}},{key:"setNodeStyle",value:function(e){if(this.nodes){var t=h()(e),i=!0,n=!1,o=void 0;try{for(var r,s=I()(t);!(i=(r=s.next()).done);i=!0){var a=r.value,l=!0,u=!1,c=void 0;try{for(var d,p=I()(this.nodes);!(l=(d=p.next()).done);l=!0){d.value.point[a]=e[a]}}catch(e){u=!0,c=e}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}}}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}}}},{key:"pushNode",value:function(e){var t=G.screenWorld(this.viewer,e);if(Cesium.defined(t)&&(this.positions.push(t),Array.isArray(this.nodes))){var i=new G(this.viewer,null,t);this.nodes.push(i.graphic)}}},{key:"on",value:function(e,t){this.vm.set(e,t)}},{key:"emit",value:function(e){if(this.vm.has(e)){for(var t=arguments.length,i=Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];this.vm.get(e).apply(void 0,i)}}},{key:"create",value:function(e,t){return new Cesium.CallbackProperty(function(){return t},!1)}},{key:"setColor",value:function(e){}},{key:"setWidth",value:function(e){}},{key:"setNode",value:function(e){if(e&&!this.nodes){this.initNodes();var t=!0,i=!1,n=void 0;try{for(var o,r=I()(this.positions);!(t=(o=r.next()).done);t=!0){e=o.value;var s=new G(this.viewer,null,e);this.nodes.push(s.graphic)}}catch(e){i=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw n}}}else!e&&this.nodes&&(this._removeNodes(),this.nodes=null)}},{key:"zoomTo",value:function(){this.graphic&&this.viewer.zoomTo(this.graphic)}},{key:"_removeGraphic",value:function(){this.graphic&&this.viewer.entities.remove(this.graphic)}},{key:"_removeNodes",value:function(){var e=this.nodes?this.nodes:this.tmpNodes;if(e){var t=!0,i=!1,n=void 0;try{for(var o,r=I()(e);!(t=(o=r.next()).done);t=!0){var s=o.value;this.viewer.entities.remove(s)}}catch(e){i=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw n}}}}},{key:"remove",value:function(){this._removeGraphic(),this._removeNodes(),this.deepDestroy()}},{key:"_destroyEditPanel",value:function(){this.editPanel&&(this.editPanel.$destroy(),document.getElementById(this.name)&&document.body.removeChild(document.getElementById(this.name)),this.editPanel=null)}},{key:"destroy",value:function(){this.handler.removeInputAction(z.LEFT_DOUBLE_CLICK()),this.handler.removeInputAction(z.LEFT_CLICK()),this.handler.removeInputAction(z.RIGHT_CLICK()),this.handler.removeInputAction(z.MOUSE_MOVE()),this.handler.destroy(),document.getElementById("cursortip")&&(document.body.removeChild(document.getElementById("cursortip")),window.tip=null)}},{key:"deepDestroy",value:function(){this.handler.isDestroyed()||this.destroy(),this.selectedHandler&&!this.selectedHandler.isDestroyed()&&(this.selectedHandler.removeInputAction(z.MOUSE_MOVE()),this.selectedHandler.removeInputAction(z.LEFT_DOWN()),this.selectedHandler.removeInputAction(z.LEFT_UP()),this.selectedHandler.removeInputAction(z.LEFT_DOUBLE_CLICK()),this.selectedHandler.destroy()),this._destroyEditPanel(),window.tip&&(document.body.removeChild(window.tip),window.tip=null)}}]),e}();function U(e,t){if(document.getElementById("cursortip"))return document.getElementById("cursortip").innerText=t,document.getElementById("cursortip");var i=document.createElement("div");return i.id="cursortip",i.style.position="absolute",i.style.backgroundColor="#FFFFFF",i.innerText=t,i.style.width="200px",i.style.fontFamily="宋体",i.style.fontSize="10px",i.style.padding="5px",i.style.color="#A8A8A8",document.body.appendChild(i),document.body.addEventListener("mousemove",function(t){if(document.getElementById("cursortip")){t.preventDefault();var i=document.getElementById("cursortip");t.target===e.canvas?(i.style.display="block",i.style.left=t.offsetX+10+"px",i.style.top=t.offsetY+10+"px"):i.style.display="none"}}),i}window.createCursor=U;var V=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaultStyle(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;B()(this,t);var o=x()(this,(t.__proto__||_()(t)).call(this,e,i,n));return o.geomType="polyline",o}return M()(t,e),N()(t,[{key:"create",value:function(e,i){var n=A()(t.prototype.__proto__||_()(t.prototype),"create",this).call(this,e,i);e.positions=n;var o=this.viewer.entities.add({polyline:e});return this.graphic=o,o}},{key:"initEditWindow",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"initEditWindow",this).call(this),this.editPanel&&(this.editPanel.width=this.options.width?this.options.width:1)}},{key:"startEdit",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"startEdit",this).call(this);var e=this.getSelectedStyle();e.width=this.options.width;var i=h()(e),n=!0,o=!1,r=void 0;try{for(var s,a=I()(i);!(n=(s=a.next()).done);n=!0){var l=s.value;this.graphic.polyline[l]=e[l]}}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}}},{key:"stopEdit",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"stopEdit",this).call(this),this._removeGraphic(),this.create(this.options,this.positions)}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polyline",i=t.toGeoJson(this.positions),n=new Blob([a()(i)],{type:""});Object(m.saveAs)(n,e+".geojson")}},{key:"setWidth",value:function(e){this.options.width=parseInt(e),this.graphic.polyline.width._value=parseInt(e)}},{key:"setColor",value:function(e){this.options.material=Cesium.Color.fromCssColorString(e),this.graphic.polyline.material=Cesium.Color.fromCssColorString(e)}},{key:"remove",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"remove",this).call(this)}}],[{key:"defaultStyle",value:function(){return{clampToGround:!0,material:new Cesium.ColorMaterialProperty(Cesium.Color.RED.withAlpha(.8)),width:3}}},{key:"selectedStyle",value:function(){return{clampToGround:!0,material:Cesium.Color.AQUA,width:3}}},{key:"toGeoJson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polyline",i={type:"FeatureCollection",name:t,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]},n=Cesium.Ellipsoid.WGS84,o=0,r=[],s=!0,a=!1,l=void 0;try{for(var u,c=I()(e);!(s=(u=c.next()).done);s=!0){var d=u.value,h=n.cartesianToCartographic(d),p=Cesium.Math.toDegrees(h.latitude),v=Cesium.Math.toDegrees(h.longitude);r.push([v,p])}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var f={type:"Feature",properties:{Id:o++,name:t},geometry:{type:"MultiLineString",coordinates:[r]}};return i.features.push(f),i}}]),t}(j),H=function(e){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.defaultStyle(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;B()(this,t);var o=x()(this,(t.__proto__||_()(t)).call(this,e,i,n));return o.geomType="polygon",o}return M()(t,e),N()(t,[{key:"create",value:function(e,i){var n=A()(t.prototype.__proto__||_()(t.prototype),"create",this).call(this,e,i);e.hierarchy=n,e.id="polygon%d"%Math.round(1e3*Math.random());var o=this.viewer.entities.add({polygon:e});return this.graphic=o,o}},{key:"startEdit",value:function(){if(!this.editMode){A()(t.prototype.__proto__||_()(t.prototype),"startEdit",this).call(this),this._removeGraphic();var e=!!Cesium.defined(this.viewer.terrainProvider),i=t.selectedStyle(e);i.material=this.options.material,this.create(i,this.positions)}}},{key:"stopEdit",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"stopEdit",this).call(this),this._removeGraphic(),this.create(this.options,this.positions)}},{key:"initEditWindow",value:function(){A()(t.prototype.__proto__||_()(t.prototype),"initEditWindow",this).call(this),this.editPanel.outline=this.options.outline,this.editPanel.outlineWidth=this.options.outlineWidth}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polyline",i=t.toGeoJson(this.positions,e),n=new Blob([a()(i)],{type:""});Object(m.saveAs)(n,e+".geojson")}},{key:"setWidth",value:function(e){this.options.width=parseInt(e),this.graphic.polyline.width._value=parseInt(e)}},{key:"setColor",value:function(e){this.options.material=Cesium.Color.fromCssColorString(e),this.graphic.polygon.material=Cesium.Color.fromCssColorString(e)}},{key:"setAlpha",value:function(e){this.graphic.polygon.material=Cesium.Color.fromAlpha(this.options.material,e)}},{key:"setOutline",value:function(e){this.options.outline=e,this.graphic.polygon.outline=e,e&&(this.graphic.polygon.height=0,this.options.height=0)}},{key:"setOutlineColor",value:function(e){this.options.outlineColor=Cesium.Color.fromCssColorString(e),this.graphic.polygon.outlineColor=Cesium.Color.fromCssColorString(e)}},{key:"setOutlineWidth",value:function(e){this.options.outlineWidth=parseFloat(e),this.graphic.polygon.outlineWidth=parseFloat(e)}}],[{key:"defaultStyle",value:function(){return{material:new Cesium.ColorMaterialProperty(Cesium.Color.RED.withAlpha(.4)),outline:!1}}},{key:"selectedStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={outline:!0,outlineColor:Cesium.Color.AQUA,outlineWidth:1,height:0},i={outline:!0,outlineColor:Cesium.Color.AQUA,outlineWidth:1,height:0,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND};return e?i:t}},{key:"toGeoJson",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"polygon",i={type:"FeatureCollection",name:t,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]},n=Cesium.Ellipsoid.WGS84,o=0,r=[],s=!0,a=!1,l=void 0;try{for(var u,c=I()(e);!(s=(u=c.next()).done);s=!0){var d=u.value,h=n.cartesianToCartographic(d),p=Cesium.Math.toDegrees(h.latitude),v=Cesium.Math.toDegrees(h.longitude);r.push([v,p])}}catch(e){a=!0,l=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw l}}var f={type:"Feature",properties:{Id:o++,name:t},geometry:{type:"MultiPolygon",coordinates:[r]}};return i.features.push(f),i}}]),t}(j),G=function(){function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.defaultStyle();B()(this,e),this.viewer=t,this.options=o,this.graphic=null,this.create(i,n)}return N()(e,[{key:"create",value:function(t,i){var n=i||e.screenWorld(this.viewer,t),o=new Cesium.CallbackProperty(function(){return n},!1),r=this.viewer.entities.add({position:o,point:this.options});return this.graphic=r,r}},{key:"remove",value:function(){this.viewer.entities.remove(this.graphic)}}],[{key:"defaultStyle",value:function(){return{color:Cesium.Color.RED,pixelSize:5,outlineColor:Cesium.Color.WHITE,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}},{key:"editStyle",value:function(){return{color:Cesium.Color.RED,pixelSize:5,outlineColor:Cesium.Color.AQUA,outlineWidth:2,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND}}},{key:"selectedStyle",value:function(){return{color:Cesium.Color.AQUA,pixelSize:5,outlineColor:Cesium.Color.AQUA,outlineWidth:3}}},{key:"screenWorld",value:function(e,t){return new c.a(e).screenWorld(t)}}]),e}(),z=function(){function e(){B()(this,e)}return N()(e,null,[{key:"LEFT_CLICK",value:function(){return Cesium.ScreenSpaceEventType.LEFT_CLICK}},{key:"RIGHT_CLICK",value:function(){return Cesium.ScreenSpaceEventType.RIGHT_CLICK}},{key:"MOUSE_MOVE",value:function(){return Cesium.ScreenSpaceEventType.MOUSE_MOVE}},{key:"LEFT_DOUBLE_CLICK",value:function(){return Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK}},{key:"LEFT_DOWN",value:function(){return Cesium.ScreenSpaceEventType.LEFT_DOWN}},{key:"LEFT_UP",value:function(){return Cesium.ScreenSpaceEventType.LEFT_UP}}]),e}(),K=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V.defaultStyle();B()(this,e),this.viewer=t,this.values=new L.a,this.options=i}return N()(e,[{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=t||"polyline"+this.values.size;var i=new V(this.viewer,this.options,t);this.values.set(i.name,i),e&&i.initNodes()}},{key:"removeByName",value:function(e){this.values.get(e).remove()}},{key:"remove",value:function(){var e=this.values.values(),t=!0,i=!1,n=void 0;try{for(var o,r=I()(e);!(t=(o=r.next()).done);t=!0){o.value.remove()}}catch(e){i=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw n}}}},{key:"has",value:function(e){this.values.has(e)}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polyline",t=this.values.values(),i={type:"FeatureCollection",name:e,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]},n=!0,o=!1,r=void 0;try{for(var s,l=I()(t);!(n=(s=l.next()).done);n=!0){var u=s.value,c=V.toGeoJson(u.positions,u.name);i.features.push(c.features[0])}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}var d=new Blob([a()(i)],{type:""});Object(m.saveAs)(d,e+".geojson")}},{key:"import",value:function(e){var t=e.features,i=!0,n=!1,o=void 0;try{for(var r,s=I()(t);!(i=(r=s.next()).done);i=!0){var a=r.value,l=a.geometry.coordinates[0];if("MultiLineString"!==a.geometry.type&&"Polyline"!==a.geometry.type)return void console.log("==========文件类型错误============");var u=[],c=!0,d=!1,h=void 0;try{for(var p,v=I()(l);!(c=(p=v.next()).done);c=!0){var f=p.value;u.push(Cesium.Cartesian3.fromDegrees(parseFloat(f[0]),parseFloat(f[1])))}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}var m=new V(this.viewer);m.create(V.defaultStyle(),u),m.positions=u,m.onSelected(),m.destroy(),this.values.set(m.name,m)}}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}}}]),e}(),J=function(){function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H.defaultStyle();B()(this,e),this.viewer=t,this.options=i,this.values=new L.a}return N()(e,[{key:"add",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t=t||"polygon"+this.values.size;var i=new H(this.viewer,this.options,t);this.values.set(i.name,i),e&&i.initNodes()}},{key:"has",value:function(e){this.values.has(e)}},{key:"remove",value:function(){var e=this.values.values(),t=!0,i=!1,n=void 0;try{for(var o,r=I()(e);!(t=(o=r.next()).done);t=!0){o.value.remove()}}catch(e){i=!0,n=e}finally{try{!t&&r.return&&r.return()}finally{if(i)throw n}}}},{key:"export",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"polygon",t=this.values.values(),i={type:"FeatureCollection",name:e,crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]},n=!0,o=!1,r=void 0;try{for(var s,l=I()(t);!(n=(s=l.next()).done);n=!0){var u=s.value,c=H.toGeoJson(u.positions,u.name);i.features.push(c.features[0])}}catch(e){o=!0,r=e}finally{try{!n&&l.return&&l.return()}finally{if(o)throw r}}var d=new Blob([a()(i)],{type:""});Object(m.saveAs)(d,e+".geojson")}},{key:"import",value:function(e){var t=e.features,i=!0,n=!1,o=void 0;try{for(var r,s=I()(t);!(i=(r=s.next()).done);i=!0){var a=r.value,l=a.geometry.coordinates[0];if("MultiPolygon"!==a.geometry.type&&"Polygon"!==a.geometry.type)return void console.log("==========文件类型错误============");var u=[],c=!0,d=!1,h=void 0;try{for(var p,v=I()(l);!(c=(p=v.next()).done);c=!0){var f=p.value;u.push(Cesium.Cartesian3.fromDegrees(parseFloat(f[0]),parseFloat(f[1])))}}catch(e){d=!0,h=e}finally{try{!c&&v.return&&v.return()}finally{if(d)throw h}}var m=new H(this.viewer);m.create(H.defaultStyle(),u),m.positions=u,m.onSelected(),m.destroy(),this.values.set(m.name,m)}}catch(e){n=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(n)throw o}}}}]),e}(),Z=i("mF0L"),Q={name:"markerPanel",data:function(){return{activeMode:{},isShow:!0,plCollection:void 0,pgCollection:void 0,viewerMounted:!1,menuShow:{},menus:[{value:"标记",key:"marker"},{value:"线",key:"polyline"},{value:"多边形",key:"polygon"}],markerExtend:["static/images/markers/1.png","static/images/markers/2.png","static/images/markers/3.png","static/images/markers/4.png","static/images/markers/5.png","static/images/markers/6.png","static/images/markers/7.png","static/images/markers/8.png"]}},components:{markerViewer:g},props:{cesiumViewer:{},polylineNode:{default:!1},polygonNode:{default:!0}},computed:{viewer:function(){return this.$store.state.earth?this.$store.state.earth:this.cesiumViewer}},mounted:function(){var e=this,t=e.viewer;e.plCollection=new K(t),e.pgCollection=new J(t),Bus.$on("viewerMounted",function(){e.viewerMounted=!0}),this.$refs.marker.init(this.viewer,"single")},methods:{importfp:function(){var e=this,t=(event||window.event).target.files,i=t[0].name.split(".")[1];if(0!=t.length){var n=new FileReader;if("geojson"===i.toLowerCase())n.readAsText(t[0]),n.onload=function(){e[e.upload2].import(JSON.parse(this.result)),document.getElementById("graphicuploadhandler").value=""};else if("shp"===i.toLowerCase()){var o={type:"FeatureCollection",name:t[0].name.split(".")[0],crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[]};Z.a.shp2GeoJSON(t[0]).then(function(t){o.features.push(t),"Polyline"===t.geometry.type?e.plCollection.import(o):"Polygon"===t.geometry.type?e.pgCollection.import(o):e.$message.error("未知的几何类型"),document.getElementById("graphicuploadhandler").value=""})}}},handleCommand:function(e){switch(e){case"umarker":Bus.$emit("importMarks");break;case"uline":this.upload2="plCollection",document.getElementById("graphicuploadhandler").click();break;case"ugon":this.upload2="pgCollection",document.getElementById("graphicuploadhandler").click();break;case"dmarker":this.$refs.marker.exportMarks();break;case"dline":this.plCollection.export();break;case"dgon":this.pgCollection.export()}},toggleClick:function(e){this[e]()},addPolyline:function(){var e=this.pgCollection.values.get("polygon"+(this.pgCollection.values.size-1));e&&e.deepDestroy(),this.$refs.marker.isDrawing=!1,this.plCollection.add(this.polylineNode)},addPolygon:function(){var e=this.plCollection.values.get("polyline"+(this.plCollection.values.size-1));e&&e.deepDestroy(),this.$refs.marker.isDrawing=!1,this.pgCollection.add(this.polygonNode)},addMarker:function(){var e=this.pgCollection.values.get("polygon"+(this.pgCollection.values.size-1));e&&e.deepDestroy();var t=this.plCollection.values.get("polyline"+(this.plCollection.values.size-1));t&&t.deepDestroy(),createCursor(this.viewer,"点击地图添加标记"),this.$refs.marker.isDrawing=!0},remove:function(){this.plCollection.remove(),this.pgCollection.remove(),this.$refs.marker.removeAll()},export:function(){}},watch:{}},Y={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"isShow"}],staticClass:"markerPanel"},[i("el-container",[i("el-header",[e._v("\n      标绘"),i("span",{staticClass:"clostbtn",on:{click:function(t){e.isShow=!1}}})]),e._v(" "),i("el-main",[i("el-button",{staticClass:"marker-panel",class:{"active-panel":!e.activeMode.marker},attrs:{title:"标记地点"},on:{click:function(t){return e.toggleClick("addMarker")}}}),e._v(" "),i("el-button",{staticClass:"polyline-panel",class:{"active-panel":!e.activeMode.polyline},attrs:{title:"绘线"},on:{click:function(t){return e.toggleClick("addPolyline")}}}),e._v(" "),i("el-button",{staticClass:"polygon-panel",class:{"active-panel":!e.activeMode.polygon},attrs:{title:"绘多边形"},on:{click:function(t){return e.toggleClick("addPolygon")}}}),e._v(" "),i("el-dropdown",{on:{command:e.handleCommand}},[i("el-button",{staticClass:"import-panel",class:{"active-panel":!e.activeMode.export},attrs:{title:"导入"}},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"umarker"}},[e._v("标记")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"uline"}},[e._v("线")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"ugon"}},[e._v("多边形")])],1)],1),e._v(" "),i("el-dropdown",{on:{command:e.handleCommand}},[i("el-button",{staticClass:"export-panel",class:{"active-panel":!e.activeMode.export},attrs:{title:"导出"}},[i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"dmarker"}},[e._v("标记")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"dline"}},[e._v("线")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"dgon"}},[e._v("多边形")])],1)],1),e._v(" "),i("el-button",{staticClass:"remove-panel",class:{"active-panel":!e.activeMode.remove},attrs:{title:"一键删除"},on:{click:function(t){return e.toggleClick("remove")}}})],1)],1),e._v(" "),i("markerViewer",{ref:"marker",attrs:{extendImage:e.markerExtend}}),e._v(" "),i("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{type:"file",id:"graphicuploadhandler",accept:".geojson,.shp"},on:{change:e.importfp}})],1)},staticRenderFns:[]};var q={data:function(){return{drawHelper:"",viewerMounted:!1,drawviewerShow:!0}},components:{drawViewer:i("VU/8")(Q,Y,!1,function(e){i("wCGr")},"data-v-afd21d2c",null).exports,earthViewer:r},props:{},computed:{},beforeMount:function(){var e=this;Bus.$on("viewerMounted",function(){e.viewerMounted=!0})},mounted:function(){},methods:{load:function(e){var t=e.target.files[0];Z.a.shp2GeoJSON(t)}},watch:{}},X={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("earthViewer"),this._v(" "),this.viewerMounted?t("draw-viewer",{directives:[{name:"show",rawName:"v-show",value:this.drawviewerShow,expression:"drawviewerShow"}],attrs:{polylineNode:!1,polygonNode:!0}}):this._e()],1)},staticRenderFns:[]};var ee=i("VU/8")(q,X,!1,function(e){i("CznW"),i("JDyD")},"data-v-560ebf42",null);t.default=ee.exports},"7Doy":function(e,t,i){var n=i("EqjI"),o=i("7UMu"),r=i("dSzd")("species");e.exports=function(e){var t;return o(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!o(t.prototype)||(t=void 0),n(t)&&null===(t=t[r])&&(t=void 0)),void 0===t?Array:t}},"9Bbf":function(e,t,i){"use strict";var n=i("kM2E");e.exports=function(e){n(n.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},"9C8M":function(e,t,i){"use strict";var n=i("evD5").f,o=i("Yobk"),r=i("xH/j"),s=i("+ZMJ"),a=i("2KxR"),l=i("NWt+"),u=i("vIB/"),c=i("EGZi"),d=i("bRrM"),h=i("+E39"),p=i("06OY").fastKey,v=i("LIJb"),f=h?"_s":"size",m=function(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,u){var c=e(function(e,n){a(e,c,t,"_i"),e._t=t,e._i=o(null),e._f=void 0,e._l=void 0,e[f]=0,void 0!=n&&l(n,i,e[u],e)});return r(c.prototype,{clear:function(){for(var e=v(this,t),i=e._i,n=e._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete i[n.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var i=v(this,t),n=m(i,e);if(n){var o=n.n,r=n.p;delete i._i[n.i],n.r=!0,r&&(r.n=o),o&&(o.p=r),i._f==n&&(i._f=o),i._l==n&&(i._l=r),i[f]--}return!!n},forEach:function(e){v(this,t);for(var i,n=s(e,arguments.length>1?arguments[1]:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!m(v(this,t),e)}}),h&&n(c.prototype,"size",{get:function(){return v(this,t)[f]}}),c},def:function(e,t,i){var n,o,r=m(e,t);return r?r.v=i:(e._l=r={i:o=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=r),n&&(n.n=r),e[f]++,"F"!==o&&(e._i[o]=r)),e},getEntry:m,setStrong:function(e,t,i){u(e,t,function(e,i){this._t=v(e,t),this._k=i,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?c(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,c(1))},i?"entries":"values",!i,!0),d(t)}}},"9bBU":function(e,t,i){i("mClu");var n=i("FeBl").Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},ALrJ:function(e,t,i){var n=i("+ZMJ"),o=i("MU5D"),r=i("sB3e"),s=i("QRG4"),a=i("oeOm");e.exports=function(e,t){var i=1==e,l=2==e,u=3==e,c=4==e,d=6==e,h=5==e||d,p=t||a;return function(t,a,v){for(var f,m,y=r(t),w=o(y),g=n(a,v,3),C=s(w.length),_=0,k=i?p(t,C):l?p(t,0):void 0;C>_;_++)if((h||_ in w)&&(m=g(f=w[_],_,y),e))if(i)k[_]=m;else if(m)switch(e){case 3:return!0;case 5:return f;case 6:return _;case 2:k.push(f)}else if(c)return!1;return d?-1:u||c?c:k}}},BO1k:function(e,t,i){e.exports={default:i("fxRn"),__esModule:!0}},C4MV:function(e,t,i){e.exports={default:i("9bBU"),__esModule:!0}},Cdx3:function(e,t,i){var n=i("sB3e"),o=i("lktj");i("uqUo")("keys",function(){return function(e){return o(n(e))}})},CznW:function(e,t){},Gu7T:function(e,t,i){"use strict";t.__esModule=!0;var n,o=i("c/Tr"),r=(n=o)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,r.default)(e)}},HpRW:function(e,t,i){"use strict";var n=i("kM2E"),o=i("lOnJ"),r=i("+ZMJ"),s=i("NWt+");e.exports=function(e){n(n.S,e,{from:function(e){var t,i,n,a,l=arguments[1];return o(this),(t=void 0!==l)&&o(l),void 0==e?new this:(i=[],t?(n=0,a=r(l,arguments[2],2),s(e,!1,function(e){i.push(a(e,n++))})):s(e,!1,i.push,i),new this(i))}})}},JDyD:function(e,t){},K6ED:function(e,t,i){e.exports={default:i("cnlX"),__esModule:!0}},Kh5d:function(e,t,i){var n=i("sB3e"),o=i("PzxK");i("uqUo")("getPrototypeOf",function(){return function(e){return o(n(e))}})},LIJb:function(e,t,i){var n=i("EqjI");e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},MiEa:function(e,t){},OvRC:function(e,t,i){e.exports={default:i("oM7Q"),__esModule:!0}},Pf15:function(e,t,i){"use strict";t.__esModule=!0;var n=s(i("kiBT")),o=s(i("OvRC")),r=s(i("pFYg"));function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,r.default)(t)));e.prototype=(0,o.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},UvrK:function(e,t,i){var n=i("kM2E");n(n.P+n.R,"Map",{toJSON:i("m9gC")("Map")})},Xjd4:function(e,t,i){i("9Bbf")("Map")},ZaQb:function(e,t,i){var n=i("EqjI"),o=i("77Pl"),r=function(e,t){if(o(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i("+ZMJ")(Function.call,i("LKZe").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,i){return r(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:r}},Zrlr:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},Zx67:function(e,t,i){e.exports={default:i("fS6E"),__esModule:!0}},bqnK:function(e,t,i){i("HpRW")("Map")},"c/Tr":function(e,t,i){e.exports={default:i("5zde"),__esModule:!0}},cnlX:function(e,t,i){i("iInB");var n=i("FeBl").Object;e.exports=function(e,t){return n.getOwnPropertyDescriptor(e,t)}},exh5:function(e,t,i){var n=i("kM2E");n(n.S,"Object",{setPrototypeOf:i("ZaQb").set})},fBQ2:function(e,t,i){"use strict";var n=i("evD5"),o=i("X8DO");e.exports=function(e,t,i){t in e?n.f(e,t,o(0,i)):e[t]=i}},fS6E:function(e,t,i){i("Kh5d"),e.exports=i("FeBl").Object.getPrototypeOf},fZjL:function(e,t,i){e.exports={default:i("jFbC"),__esModule:!0}},fbSC:function(e,t){},fxRn:function(e,t,i){i("+tPU"),i("zQR9"),e.exports=i("g8Ux")},g8Ux:function(e,t,i){var n=i("77Pl"),o=i("3fs2");e.exports=i("FeBl").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},"i/C/":function(e,t,i){i("exh5"),e.exports=i("FeBl").Object.setPrototypeOf},iInB:function(e,t,i){var n=i("TcQ7"),o=i("LKZe").f;i("uqUo")("getOwnPropertyDescriptor",function(){return function(e,t){return o(n(e),t)}})},ifoU:function(e,t,i){e.exports={default:i("3C/1"),__esModule:!0}},jFbC:function(e,t,i){i("Cdx3"),e.exports=i("FeBl").Object.keys},kiBT:function(e,t,i){e.exports={default:i("i/C/"),__esModule:!0}},m9gC:function(e,t,i){var n=i("RY/4"),o=i("4WTo");e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return o(this)}}},mClu:function(e,t,i){var n=i("kM2E");n(n.S+n.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})},mvHQ:function(e,t,i){e.exports={default:i("qkKv"),__esModule:!0}},oM7Q:function(e,t,i){i("sF+V");var n=i("FeBl").Object;e.exports=function(e,t){return n.create(e,t)}},oeOm:function(e,t,i){var n=i("7Doy");e.exports=function(e,t){return new(n(e))(t)}},pfge:function(e,t){},qCoq:function(e,t,i){"use strict";var n=i("9C8M"),o=i("LIJb");e.exports=i("qo66")("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=n.getEntry(o(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(o(this,"Map"),0===e?0:e,t)}},n,!0)},qkKv:function(e,t,i){var n=i("FeBl"),o=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return o.stringify.apply(o,arguments)}},qo66:function(e,t,i){"use strict";var n=i("7KvD"),o=i("kM2E"),r=i("06OY"),s=i("S82l"),a=i("hJx8"),l=i("xH/j"),u=i("NWt+"),c=i("2KxR"),d=i("EqjI"),h=i("e6n0"),p=i("evD5").f,v=i("ALrJ")(0),f=i("+E39");e.exports=function(e,t,i,m,y,w){var g=n[e],C=g,_=y?"set":"add",k=C&&C.prototype,x={};return f&&"function"==typeof C&&(w||k.forEach&&!s(function(){(new C).entries().next()}))?(C=t(function(t,i){c(t,C,e,"_c"),t._c=new g,void 0!=i&&u(i,y,t[_],t)}),v("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in k&&(!w||"clear"!=e)&&a(C.prototype,e,function(i,n){if(c(this,C,e),!t&&w&&!d(i))return"get"==e&&void 0;var o=this._c[e](0===i?0:i,n);return t?this:o})}),w||p(C.prototype,"size",{get:function(){return this._c.size}})):(C=m.getConstructor(t,e,y,_),l(C.prototype,i),r.NEED=!0),h(C,e),x[e]=C,o(o.G+o.W+o.F,x),w||m.setStrong(C,e,y),C}},qyJz:function(e,t,i){"use strict";var n=i("+ZMJ"),o=i("kM2E"),r=i("sB3e"),s=i("msXi"),a=i("Mhyx"),l=i("QRG4"),u=i("fBQ2"),c=i("3fs2");o(o.S+o.F*!i("dY0y")(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,o,d,h=r(e),p="function"==typeof this?this:Array,v=arguments.length,f=v>1?arguments[1]:void 0,m=void 0!==f,y=0,w=c(h);if(m&&(f=n(f,v>2?arguments[2]:void 0,2)),void 0==w||p==Array&&a(w))for(i=new p(t=l(h.length));t>y;y++)u(i,y,m?f(h[y],y):h[y]);else for(d=w.call(h),i=new p;!(o=d.next()).done;y++)u(i,y,m?s(d,f,[o.value,y],!0):o.value);return i.length=y,i}})},"sF+V":function(e,t,i){var n=i("kM2E");n(n.S,"Object",{create:i("Yobk")})},t4zo:function(e,t,i){(function(i){var n,o,r;o=[],void 0===(r="function"==typeof(n=function(){"use strict";function t(e,t,i){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){s(n.response,t,i)},n.onerror=function(){console.error("could not download file")},n.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(i){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof i&&i.global===i?i:void 0,s=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype?function(e,i,s){var a=r.URL||r.webkitURL,l=document.createElement("a");i=i||e.name||"download",l.download=i,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):n(l.href)?t(e,i,s):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout(function(){a.revokeObjectURL(l.href)},4e4),setTimeout(function(){o(l)},0))}:"msSaveOrOpenBlob"in navigator?function(e,i,r){if(i=i||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),i);else if(n(e))t(e,i,r);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){o(s)})}}:function(e,i,n,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof e)return t(e,i,n);var s="application/octet-stream"===e.type,a=/constructor/i.test(r.HTMLElement)||r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&a)&&"object"==typeof FileReader){var u=new FileReader;u.onloadend=function(){var e=u.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=e:location=e,o=null},u.readAsDataURL(e)}else{var c=r.URL||r.webkitURL,d=c.createObjectURL(e);o?o.location=d:location.href=d,o=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});r.saveAs=s.saveAs=s,void 0!==e&&(e.exports=s)})?n.apply(t,o):n)||(e.exports=r)}).call(t,i("DuR2"))},uqUo:function(e,t,i){var n=i("kM2E"),o=i("FeBl"),r=i("S82l");e.exports=function(e,t){var i=(o.Object||{})[e]||Object[e],s={};s[e]=t(i),n(n.S+n.F*r(function(){i(1)}),"Object",s)}},wCGr:function(e,t){},wxAW:function(e,t,i){"use strict";t.__esModule=!0;var n,o=i("C4MV"),r=(n=o)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,r.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},wxVj:function(e,t){},yEsh:function(e,t,i){"use strict";t.__esModule=!0;var n=r(i("Zx67")),o=r(i("K6ED"));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function e(t,i,r){null===t&&(t=Function.prototype);var s=(0,o.default)(t,i);if(void 0===s){var a=(0,n.default)(t);return null===a?void 0:e(a,i,r)}if("value"in s)return s.value;var l=s.get;return void 0!==l?l.call(r):void 0}},zNUb:function(e,t){},zwoO:function(e,t,i){"use strict";t.__esModule=!0;var n,o=i("pFYg"),r=(n=o)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,r.default)(t))&&"function"!=typeof t?e:t}}});